<nz-breadcrumb style="margin:16px 0;">
  <nz-breadcrumb-item>Trang chủ</nz-breadcrumb-item>
  <nz-breadcrumb-item>Hệ thống</nz-breadcrumb-item>
  <nz-breadcrumb-item>Danh sách người dùng</nz-breadcrumb-item>
</nz-breadcrumb>

<div style="padding:24px; background: #fff; min-height: 70vh">
  <div class="row mb-2">
    <div class="col-md-4 col-sm-12">
      <input type="text" class="form-control" #keyword placeholder="Tìm kiếm..." (keyup)="search(keyword.value)" />
      {{userParams.filter}}
    </div>
    <div class="col-md-8 col-sm-12 text-right">
      <button class="btn btn-success mr-1" (click)="addNew()">
        <i class="fa fa-plus"></i> Thêm mới
      </button>
    </div>
  </div>

  <table class="table table-hover">
    <thead>
      <tr>
        <th style="width: 15%">Tài khoản</th>
        <th style="width: 20%">Họ tên</th>
        <th style="width: 20%">Email</th>
        <th style="width: 20%">Vai trò</th>
        <th style="width: 10%">Trạng thái</th>
        <th style="width: 15%">Thao tác</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngIf="pagination.totalItems > 0;else nothing">
          <tr *ngFor="let user of users; let i = index">
              <td>{{user.userName}}</td>
              <td>{{user.fullName}}</td>
              <td>{{user.email}}</td>
              <td>{{user.roles}} </td>
              <td>
                <nz-switch [ngModel]="user.status" [nzCheckedChildren]="checkedTemplate" [nzUnCheckedChildren]="unCheckedTemplate"
                  (click)="changeStatus(user.id)"></nz-switch>
                <ng-template #checkedTemplate><i nz-icon type="check" nz-tooltip nzTitle="Kích hoạt"></i></ng-template>
                <ng-template #unCheckedTemplate><i nz-icon type="close" nz-tooltip nzTitle="Khóa"></i></ng-template>
              </td>
              <td>
                <button class="btn btn-info btn-sm" nz-tooltip nzTitle="Sửa" (click)="update(user.id)">
                  <i class="fa fa-edit"></i>
                </button>
                <nz-divider nzType="vertical"></nz-divider>
                <button class="btn btn-primary btn-sm" nz-tooltip nzTitle="Phân vai trò" (click)="editRoles(user)">
                  <i class="fa fa-users" aria-hidden="true"></i>
                </button>
              </td>
            </tr>
      </ng-container>
      <ng-template #nothing>
        <tr>
          <td colspan="6" class="text-center text-danger">Không tìm thấy kết quả.</td>
        </tr>
      </ng-template>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="6">
          Hiển thị {{pagination.firstRowOnPage}} đến {{pagination.lastRowOnPage}} của {{pagination.totalItems}} bản ghi
        </td>
      </tr>
    </tfoot>
  </table>

  <div class="d-flex justify-content-end" *ngIf="pagination.totalPages >= 2">
    <pagination [boundaryLinks]="true" [totalItems]="pagination.totalItems" [(ngModel)]="pagination.currentPage"
      [itemsPerPage]="pagination.itemsPerPage" (pageChanged)="pageChanged($event)" previousText="&lsaquo;" nextText="&rsaquo;"
      firstText="&laquo;" lastText="&raquo;">
    </pagination>
  </div>
</div>